package com.stu.spring.integration.mqtt;


public class App {

  public static void main(String[] args) {
//    ApplicationContext ctx = new ClassPathXmlApplicationContext(
//        "applicationContext.xml");
//
//    MqttPahoMessageDrivenChannelAdapter mqttInbound = (MqttPahoMessageDrivenChannelAdapter) ctx
//        .getBean("mqttTopic1");
//    for (String topic : mqttInbound.getTopic()) {
//      System.out.println(topic);
//    }
//    mqttInbound.addTopic("message/#");
//    for (String topic : mqttInbound.getTopic()) {
//      System.out.println(topic);
//    }
//
//    PubGateway gateway = ctx.getBean(PubGateway.class);
//    Message<?> message = MessageBuilder.withPayload(new Date().toString())
//        .setHeader(MqttHeaders.TOPIC, "message/1310/ADMIN").build();
//    gateway.send(message);
  }

}
